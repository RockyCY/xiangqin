<view class="container" style="background: #efefef;">
  <navigation title="我的资料" hideBackBtn="{{false}}"></navigation>
  <view class="floatViewBG" hidden="{{hideMask}}" catchtouchmove="preventTouchMove">
    <view class="coverViewBG" bindtap="closeMask"></view>
    <view class="personalFillBG">
      <block wx:if="{{isPhoneMask}}">
        <view class="personalPhoneClose" bindtap="closeMask">关闭</view>
        <view class="personalPhoneTopTitle">联系电话</view>
        <view class="personalPhoneTopSubTitle">其他相亲者将通过该号码联系你</view>
        <input class="personalPhoneInput" type="number" maxlength="11" bindinput="bindKeyInput" data-id="phone" placeholder="这输入手机号" placeholder-style="text-align:center;font-size:20px;color:#585858"/>
        <customBtn btnWidth="300" btnHeigh="52" btnText="获取验证码" btnFontSize="22" style="margin-top: 42px;"
        bind:clickHandle="requestVerticalCode"></customBtn>
      </block>
      <block wx:elif="{{isVertifiCodeMask}}">
        <view class="personalPhoneClose" bindtap="closeMask">关闭</view>
        <view class="personalPhoneTopTitle">输入验证码</view>
        <view class="personalPhoneTopSubTitle">验证码已发送</view>
        <input class="personalPhoneInput" type="number" maxlength="20" bindinput="bindKeyInput" data-id="code" placeholder="请输入验证码" placeholder-style="text-align:center;font-size:20px;color:#585858"/>
        <customBtn btnWidth="300" btnHeigh="52" btnText="完成" btnFontSize="22" style="margin-top: 42px;"
        bind:clickHandle="finishChange" data-id="code"></customBtn>
      </block>
      <block wx:elif="{{isSchoolMask}}">
        <view class="personalPhoneClose" bindtap="closeMask">关闭</view>
        <view class="personalPhoneTopTitle">学校</view>
        <view class="personalPhoneTopSubTitle">其他相亲者可通过详情了解您的学校</view>
        <input class="personalPhoneInput" maxlength="12" bindinput="bindKeyInput" data-id="school" placeholder="请输入学校" placeholder-style="text-align:center;font-size:20px;color:#585858"/>
        <customBtn btnWidth="300" btnHeigh="52" btnText="完成" btnFontSize="22" style="margin-top: 42px;"
        bind:clickHandle="finishChange" data-id="school"></customBtn>
      </block>
      <block wx:elif="{{isPersonalDescMask}}">
        <view class="personalPhoneClose" bindtap="closeMask">关闭</view>
        <view class="personalPhoneTopTitle">个人信息</view>
        <textarea auto-focus="true" class="personalTextArea" value="{{userData.personalDesc}}"bindinput="bindKeyInput" data-id="personalDesc" maxlength="300"/>
        <customBtn btnWidth="300" btnHeigh="52" btnText="完成" btnFontSize="22" style="margin-top: 42px;"
        bind:clickHandle="finishChange" data-id="personalDesc"></customBtn>
      </block>
      <block wx:elif="{{isSpouseDescMask}}">
        <view class="personalPhoneClose" bindtap="closeMask">关闭</view>
        <view class="personalPhoneTopTitle">择偶标准</view>
        <textarea auto-focus="true" class="personalTextArea" value="{{userData.spouceDesc}}" bindinput="bindKeyInput" data-id="spouceDesc" maxlength="300"/>
        <customBtn btnWidth="300" btnHeigh="52" btnText="完成" btnFontSize="22" style="margin-top: 42px;"
        bind:clickHandle="finishChange" data-id="spouceDesc"></customBtn>
      </block>
    </view>
  </view>
  <scroll-view scroll-y="true" style="margin-top: -12px; background: efefef; height: {{scrollHeight}}px;" bindscrolltoupper="upper" bindscrolltolower="lower" bindscroll="scroll" scroll-into-view="{{toView}}" scroll-top="{{scrollTop}}">
    <view class="personalHeadBG">
      <view class="personalImage" bindtap="chooseImage">
        <view class="personalImageMask"></view>
        <block wx:if="{{app.globalData.userInfo}}">
          <image class="avater" src="{{app.globalData.userInfo.avatarUrl}}"></image>
        </block>
        <block wx:else>
          <open-data type="userAvatarUrl"></open-data>
        </block>
        <image class="personalImage1" src="../../images/camera.png">
        </image>
      </view>
      <text class="personalImageText">相亲者照片</text>
    </view>
    <view class="personalMainTitleBG">
      <text class="personalMainTitle">基础信息</text>
    </view>
    <picker bindchange="bindGenderChange" value="{{index}}" range="{{genderList}}">
      <personalBar mainTitle="性别" subTitle="{{userData.gender}}" hideArrow="{{true}}" hideBottomLine="{{false}}"></personalBar>
    </picker>
    <picker mode="date" value="{{date}}" start="1970-01-01" end="2022-01-01" bindchange="bindDateChange">
      <personalBar mainTitle="年龄" subTitle="{{userData.birthday}}" hideArrow="{{false}}" hideBottomLine="{{false}}"></personalBar>
    </picker>
    <picker bindchange="bindHeighChange" value="{{index}}" range="{{bodyHeighList}}">
      <personalBar mainTitle="身高" subTitle="{{userData.heigh}}" hideArrow="{{false}}" hideBottomLine="{{false}}"></personalBar>
    </picker>
    <picker bindchange="bindWeighChange" value="{{index}}" range="{{bodyWeighList}}">
      <personalBar mainTitle="体重" subTitle="{{userData.weigh}}" hideArrow="{{false}}" hideBottomLine="{{false}}"></personalBar>
    </picker>
    <picker mode="region" bindchange="bindRegion1Change" value="{{userData.residentPlace}}" custom-item="{{customItem}}">
      <personalBar mainTitle="现居住地" subTitle="{{userData.residentPlace[0]}}-{{userData.residentPlace[1]}}-{{userData.residentPlace[2]}}" hideArrow="{{false}}" hideBottomLine="{{false}}"></personalBar>
    </picker>
    <picker mode="region" bindchange="bindRegion2Change" value="{{userData.hometown}}" custom-item="{{customItem}}">
      <personalBar mainTitle="家乡" subTitle="{{userData.hometown[0]}}-{{userData.hometown[1]}}-{{userData.hometown[2]}}" hideArrow="{{false}}" hideBottomLine="{{false}}"></personalBar>
    </picker>
    <picker bindchange="bindMarriageChange" value="{{index}}" range="{{marriageList}}">
      <personalBar mainTitle="婚姻状态" subTitle="{{userData.marriage}}" hideArrow="{{false}}" hideBottomLine="{{false}}"></personalBar>
    </picker>
    <picker bindchange="bindMarriagePlanChange" value="{{index}}" range="{{marriagePlan}}">
      <personalBar mainTitle="结婚计划" subTitle="{{userData.marriagePlan}}" hideArrow="{{false}}" hideBottomLine="{{true}}"></personalBar>
    </picker>
    <view class="personalMainTitleBG otherMainTitleBG">
      <text class="personalMainTitle otherMainTitle">教育及工作资料</text>
    </view>
    <picker bindchange="bindEducationChange" value="{{index}}" range="{{educationList}}">
      <personalBar mainTitle="最高学历" subTitle="{{userData.education}}" hideArrow="{{false}}" hideBottomLine="{{false}}"></personalBar>
    </picker>
    <personalBar mainTitle="学校" subTitle="{{userData.school}}" hideArrow="{{false}}" hideBottomLine="{{true}}" bind:clickBar="clickBar"></personalBar>
    <picker bindchange="bindRevenueChange" value="{{index}}" range="{{revenueList}}">
      <personalBar mainTitle="年收入" subTitle="{{userData.revenue}}" hideArrow="{{false}}" hideBottomLine="{{false}}"></personalBar>
    </picker>
    <picker bindchange="bindHousePlanChange" value="{{index}}" range="{{housePlan}}">
      <personalBar mainTitle="是否购房" subTitle="{{userData.house}}" hideArrow="{{false}}" hideBottomLine="{{false}}"></personalBar>
    </picker>
    <picker bindchange="bindCarPlanChange" value="{{index}}" range="{{carPlan}}">
      <personalBar mainTitle="是否购车" subTitle="{{userData.car}}" hideArrow="{{false}}" hideBottomLine="{{true}}"></personalBar>
    </picker>
    <view class="personalMainTitleBG otherMainTitleBG1">
      <text class="personalMainTitle otherMainTitle">联系方式</text>
      <text class="personalMainTitle otherMainTitle1">其他用户将根据您预留的手机号与您联系</text>
    </view>
    <picker bindchange="bindRelationChange" value="{{index}}" range="{{userData.gender=='男'?relationListMan:relationListWoman}}">
      <personalBar mainTitle="您与相亲者的关系" subTitle="{{userData.relation}}" hideArrow="{{false}}" hideBottomLine="{{false}}"></personalBar>
    </picker>
    <personalBar mainTitle="电话" subTitle="{{userData.phone}}" hideArrow="{{false}}" hideBottomLine="{{true}}" bind:clickBar="clickBar"></personalBar>
    <view class="personalMainTitleBG otherMainTitleBG">
      <text class="personalMainTitle otherMainTitle">其他信息</text>
    </view>
    <personalBar mainTitle="个人信息" subTitle="" hideArrow="{{false}}" hideBottomLine="{{true}}" isEditType="{{true}}" bind:clickBar="clickBar"></personalBar>
    <view class="editSubtitle" style="width: {{descTitleWidth}}px;">{{userData.personalDesc}}
    </view>
    <view class="bottomBar">
      <view class="bottomLine">
      </view>
    </view>
    <personalBar mainTitle="择偶标准" subTitle="" hideArrow="{{false}}" hideBottomLine="{{true}}" isEditType="{{true}}" bind:clickBar="clickBar"></personalBar>
    <view class="editSubtitle" style="width: {{descTitleWidth}}px;">{{userData.spouceDesc}}
    </view>
    <view class="bottomBar"></view>
  </scroll-view>
</view>